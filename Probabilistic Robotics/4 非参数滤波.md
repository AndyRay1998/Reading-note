[[Probabilistic Robotics]]
```toc
```

- 直方图和粒子滤波，不需要对后验密度进行强参数化假设。特别地，它们能很好地表示复杂的多峰置信度.
- 当机器人必须处理全局不确定性问题，或者要面对会产生独立、不同假设的数据关联间题时，通常会选择直方图或粒子滤波
- 增加计算复杂性为代价
- 能在线调节参数数量来表示后验的技术叫作自适应(adaptive) 技术


### 4.1 直方图滤波
- 将状态空间分解成有限的区域，并用一个单一的概率值表示每一个区域的累积后验
- 有限空间：离散贝叶斯滤波
- 连续空间：直方图滤波

#### 4.1.1 离散贝叶斯滤波算法
- 伪代码![[Pasted image 20220617220649.png]]
- 离散贝叶斯滤波在许多信号处理领域是很流行的，它通常被认为是隐马尔可夫模型(Hidden Markov Model , HMM) 的正向传递。

#### 4.1.2 连续状态
p85


## 4.3 粒子滤波
### 4.3.1 基本算法
- 主要思想是用一系列从后验得到的随机状态采样表示后验bel(xt)
- 基于样本表示法的另一个优点就是其建模随机变量的非线性变换的能力
- 状态假设xt, 包含在粒子集Xt, 中的可能性与其贝叶斯滤波的后验bel(xt) 成比例：![[Pasted image 20220618095419.png]]
- 状态空间的一个子区域被样本填充得越密集，真实状态落入该区域的可能性越大
- 算法![[Pasted image 20220618095615.png]]
- 第8 -11 行。这里实现了所谓的重采样(resampling) 或者重要性采样(importance sampling)![[Pasted image 20220618100831.png]]

### 4.3.2 重要性采样
- 算法![[Pasted image 20220618101707.png]]
- g建议分布(proposal distribution), f目标分布(target distribution)
- ![[Pasted image 20220618102605.png]]

### 4. 3. 3 粒子滤波的数学推导
![[Pasted image 20220618105248.png]]
![[Pasted image 20220618111836.png]]
![[Pasted image 20220618112904.png]]
![[Pasted image 20220618113002.png]]


### 4.3.4 粒子滤波的实际考虑和特性
- 密度提取
		- 单峰高斯近似
		- 离散直方图
		- 核密度估计
- 抽样方差
		- 当有限样本数最来自概率密度时，从这些样本提取的统计特性与初始密度的统计特性就会稍有不同
		- 因随机采样引起的变化称为采样方差(variance)
		- 抽样方差随着样本数目增加而减小
- 重采样
		- 重采样过程会引起粒子群中多样性的消失，事实上表现为近似误差：尽管粒子集本身的不一致有所减小，但是作为真实置信度估计器的粒子群不一致却增加了。对许多现实应用来说，控制粒子滤波的这种变化或误差都是很有必要的。
- 采样偏差
		- 即使实际仅采用有限多个粒子也会在后验估计中引入系统偏差(bias)
- 粒子缺乏 particle deprivation
		- 在正确的状态附近没有粒子的情况也是有可能发生的
